{
  "info": {
    "name": "NestJS Learning API",
    "description": "Collection for testing NestJS API endpoints",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
  },
  "item": [
    {
      "name": "Health Check",
      "item": [
        {
          "name": "Get Hello",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "http://localhost:9933/",
              "protocol": "http",
              "host": ["localhost"],
              "port": "9933",
              "path": [""]
            },
            "description": "Basic health check endpoint"
          },
          "response": []
        }
      ]
    },
    {
      "name": "Authentication",
      "item": [
        {
          "name": "Register User - Success",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"Test User\",\n  \"phoneNumber\": \"0123456789\",\n  \"password\": \"password123\",\n  \"confirmPassword\": \"password123\"\n}"
            },
            "url": {
              "raw": "http://localhost:9933/auth/register",
              "protocol": "http",
              "host": ["localhost"],
              "port": "9933",
              "path": ["auth", "register"]
            },
            "description": "Register a new user account"
          },
          "response": []
        },
        {
          "name": "Register User - Validation Error",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"\",\n  \"phoneNumber\": \"\",\n  \"password\": \"\",\n  \"confirmPassword\": \"different\"\n}"
            },
            "url": {
              "raw": "http://localhost:9933/auth/register",
              "protocol": "http",
              "host": ["localhost"],
              "port": "9933",
              "path": ["auth", "register"]
            },
            "description": "Register user with invalid data to test validation"
          },
          "response": []
        },
        {
          "name": "Login User - Success",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"phoneNumber\": \"0123456789\",\n  \"password\": \"password123\"\n}"
            },
            "url": {
              "raw": "http://localhost:9933/auth/login",
              "protocol": "http",
              "host": ["localhost"],
              "port": "9933",
              "path": ["auth", "login"]
            },
            "description": "Login with valid credentials"
          },
          "response": []
        },
        {
          "name": "Login User - Wrong Password",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"phoneNumber\": \"0123456789\",\n  \"password\": \"wrongpassword\"\n}"
            },
            "url": {
              "raw": "http://localhost:9933/auth/login",
              "protocol": "http",
              "host": ["localhost"],
              "port": "9933",
              "path": ["auth", "login"]
            },
            "description": "Login with wrong password to test error handling"
          },
          "response": []
        },
        {
          "name": "Refresh Token - Success",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"refreshToken\": \"{{refreshToken}}\"\n}"
            },
            "url": {
              "raw": "http://localhost:9933/auth/refresh-token",
              "protocol": "http",
              "host": ["localhost"],
              "port": "9933",
              "path": ["auth", "refresh-token"]
            },
            "description": "Refresh access token using refresh token"
          },
          "response": []
        },
        {
          "name": "Refresh Token - Invalid Token",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"refreshToken\": \"invalid_token_here\"\n}"
            },
            "url": {
              "raw": "http://localhost:9933/auth/refresh-token",
              "protocol": "http",
              "host": ["localhost"],
              "port": "9933",
              "path": ["auth", "refresh-token"]
            },
            "description": "Refresh token with invalid token to test error handling"
          },
          "response": []
        }
      ]
    },
    {
      "name": "Posts",
      "item": [
        {
          "name": "Create Post - Success",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              },
              {
                "key": "x-api-key",
                "value": "{{apiKey}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"title\": \"My First Post\",\n  \"content\": \"This is the content of my first post.\"\n}"
            },
            "url": {
              "raw": "http://localhost:9933/post/create-post",
              "protocol": "http",
              "host": ["localhost"],
              "port": "9933",
              "path": ["post", "create-post"]
            },
            "description": "Create a new post (requires authentication)"
          },
          "response": []
        },
        {
          "name": "Create Post - Missing Auth",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"title\": \"Unauthorized Post\",\n  \"content\": \"This should fail due to missing auth\"\n}"
            },
            "url": {
              "raw": "http://localhost:9933/post/create-post",
              "protocol": "http",
              "host": ["localhost"],
              "port": "9933",
              "path": ["post", "create-post"]
            },
            "description": "Create post without authentication to test auth guard"
          },
          "response": []
        },
        {
          "name": "Get Posts - Success",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              },
              {
                "key": "x-api-key",
                "value": "{{apiKey}}"
              }
            ],
            "url": {
              "raw": "http://localhost:9933/post/get",
              "protocol": "http",
              "host": ["localhost"],
              "port": "9933",
              "path": ["post", "get"]
            },
            "description": "Get all posts for authenticated user"
          },
          "response": []
        },
        {
          "name": "Get Posts - Missing Auth",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "http://localhost:9933/post/get",
              "protocol": "http",
              "host": ["localhost"],
              "port": "9933",
              "path": ["post", "get"]
            },
            "description": "Get posts without authentication to test auth guard"
          },
          "response": []
        },
        {
          "name": "Update Post - Success",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              },
              {
                "key": "x-api-key",
                "value": "{{apiKey}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"id\": \"{{postId}}\",\n  \"title\": \"Updated Post Title\",\n  \"content\": \"Updated content for the post.\"\n}"
            },
            "url": {
              "raw": "http://localhost:9933/post/update-post",
              "protocol": "http",
              "host": ["localhost"],
              "port": "9933",
              "path": ["post", "update-post"]
            },
            "description": "Update an existing post (requires authentication)"
          },
          "response": []
        },
        {
          "name": "Update Post - Missing Auth",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"id\": \"some_id\",\n  \"title\": \"Unauthorized Update\",\n  \"content\": \"This should fail due to missing auth\"\n}"
            },
            "url": {
              "raw": "http://localhost:9933/post/update-post",
              "protocol": "http",
              "host": ["localhost"],
              "port": "9933",
              "path": ["post", "update-post"]
            },
            "description": "Update post without authentication to test auth guard"
          },
          "response": []
        }
      ]
    }
  ],
  "variable": [
    {
      "key": "baseUrl",
      "value": "http://localhost:9933",
      "type": "string"
    },
    {
      "key": "accessToken",
      "value": "",
      "type": "string"
    },
    {
      "key": "refreshToken",
      "value": "",
      "type": "string"
    },
    {
      "key": "apiKey",
      "value": "your_api_key_here",
      "type": "string"
    },
    {
      "key": "postId",
      "value": "",
      "type": "string"
    }
  ]
}
